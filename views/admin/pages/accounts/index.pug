extends ../../layout/default.pug
include ../../mixins/alert.pug

block main
    h1(class="mb-4") Danh sách tài khoản
    +alert-success(5000)

    .card.mb-3
        .card-header Danh sách
        .card-body
            .row
                .col-8
                .col-4.text-right
                    a(
                        href=`/admin/accounts/create`
                        class="btn btn-outline-success"
                    ) + Thêm mới 


            table(
                class = "table table-hover table-sm"
            )
                thead
                    tr
                    th STT
                    th Avatar
                    th Họ tên
                    th Email
                    th Số điện thoại
                    th Trạng thái
                    th Hành động

                tbody
                    each item, index in records
                        tr
                        td #{index + 1}
                        td
                            img(
                            src=item.avatar
                            alt=item.fullName
                            width="100px"
                            height="auto"
                            )
                        td #{item.fullName}
                        td #{item.email}
                        td #{item.phone}
                        td
                            if(item.status == "active")
                                a(
                                    href="javascript:;" 
                                    class="badge badge-success"
                                    data-status = item.active 
                                ) Hoạt động
                            else
                                a(
                                    href="javascript:;" 
                                    class="badge badge-danger"
                                    data-status = item.active 
                                ) Dừng hoạt động
                        td
                            a(
                                href=`/admin/accounts/detail/${item._id}`
                                class="btn btn-secondary btn-sm"
                            ) Chi tiết
                            
                            a(
                                href=`/admin/accounts/edit/${item._id}`
                                class="btn btn-warning btn-sm ml-1"
                            ) Sửa
                            button(
                                class="btn btn-danger btn-sm ml-1"
                                button-delete 
                                data-id=item._id
                            ) Xóa
    script(src="/admin/js/product.js") 