extends ../../layout/default.pug
include ../../mixins/alert.pug
include ../../mixins/sort.pug
include ../../mixins/filter-status.pug
include ../../mixins/search.pug
include ../../mixins/table-tree.pug

block main 
    +alert-success(5000)
    h1 Danh mục sản phẩm 
    
    .card.mb-3
        .card-header Bộ lọc và Tìm kiếm
            .row.align-items-center
                .col-6
                    +filter-status(filterStatus)
                .col-6   
                    +search(keyword)
    
    .card.mb-3
        .card-header Sắp xếp
        .card-body
            .row
            .col-4
                +sort()

    .card.mb-3
        .card-header Danh sách
            .card-body
                .row 
                    .col-1
                    form(
                        action="/admin/products-category/change-multi?_method=PATCH"
                        method="POST"
                        form-change-multi
                        )
                        .d-flex.align-items-center   
                            .form-group
                            select(name="type" class="form-control w-auto" )
                                option(disabled selected) -- Chọn hành động --
                                option(value="active") Hoạt động
                                option(value="inactive") Dừng hoạt động
                                option(value="delete-all") Xóa tất cả

                            .form-group
                            input(
                                type="text"
                                name="ids"
                                value=""
                                class="form-control d-none"
                            )
                            button(type="submit" class="btn btn-primary w-auto" ) Áp dụng
                    .col-4
                        a(
                            href=`/admin/products-category/create`
                            class="btn btn-outline-success"
                        ) + Thêm mới
    
                table(
                    class = "table table-hover table-sm"
                    checkbox-multi
                )
                    thead
                        tr
                        th
                            input(type="checkbox" name="checkAll")
                        th STT
                        th Hình ảnh
                        th Tiêu đề
                        th Giá
                        th Trạng thái
                        th Hành động

                    tbody
                        +table-tree(records)
    
    form(
        action="", 
        method="post"
        id = "form-delete-product-category"
        data-path = "/admin/products-category/delete"
    ) 

    script(src="/admin/js/product-category.js") 